{% extends 'base.html' %}
{% block content %}
<div class="main-content">
    <div class="container-fluid">
        <h2>Создание продукта</h2>


        <form method="post">
            {% csrf_token %}

            <!-- Отображение общих ошибок формы (если есть) -->
            {% if form.errors %}
                <div class="alert alert-danger">
                    <p>Пожалуйста, исправьте следующие ошибки:</p>
                    {{ form.errors }}
                </div>
            {% endif %}

            <!-- Поля формы -->
            <div class="form-group">
                {{ form.product_name.label_tag }}
                {{ form.product_name }}
                <!-- Ошибка для поля product_name -->
                {% if form.product_name.errors %}
                    <div class="text-danger">
                        {{ form.product_name.errors }}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form.product_description.label_tag }}
                {{ form.product_description }}
                <!-- Ошибка для поля product_description -->
                {% if form.product_description.errors %}
                    <div class="text-danger">
                        {{ form.product_description.errors }}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form.product_image.label_tag }}
                {{ form.product_image }}
                {% if form.product_image.errors %}
                    <div class="text-danger">
                        {{ form.product_image.errors }}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form.product_category.label_tag }}
                {{ form.product_category }}
                {% if form.product_category.errors %}
                    <div class="text-danger">
                        {{ form.product_category.errors }}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form.product_price.label_tag }}
                {{ form.product_price }}
                {% if form.product_price.errors %}
                    <div class="text-danger">
                        {{ form.product_price.errors }}
                    </div>
                {% endif %}
            </div>

            <!-- Выпадающий список категорий (если нужен отдельно от формы) -->
            <div class="form-group">
                <label for="id_category">Категория</label>
                <select name="category" id="id_category">
                    {% for category in categories %}
                        <option value="{{ category.id }}">{{ category.category_name }}</option>
                    {% endfor %}
                </select>
            </div>

            <button type="submit" class="btn btn-primary">Создать</button>
        </form>
    </div>
</div>
{% endblock %}
